/* bootstrap-progressbar v0.5.0 | Copyright 2012 minddust.com | http://www.apache.org/licenses/LICENSE-2.0 */
(function(a){var b=function(b,c){this.element=a(b),this.options=a.extend({},a.fn.progressbar.defaults,c)};b.prototype={constructor:b,transition:function(){var b=this.element,c=b.parent(),d=this.back,e=this.front,f=this.options,g=b.attr("data-percentage"),h=b.attr("data-amount-part"),i=b.attr("data-amount-total"),j,k,l,m;j=c.hasClass("vertical"),k=f.update&&"function"==typeof f.update?f.update:a.fn.progressbar.defaults.update,l=f.done&&"function"==typeof f.done?f.done:a.fn.progressbar.defaults.done,m=f.fail&&"function"==typeof f.fail?f.fail:a.fn.progressbar.defaults.fail;if(f.use_percentage&&!g)m("bootstrap-progressbar: you can't use percentage without data-percentage being set");else{if(!f.use_percentage){if(!h&&!i){m("bootstrap-progressbar: you can't use values without data-amount-part and data-amount-total being set");return}g=Math.round(100*h/i)}if(f.display_text===a.fn.progressbar.display_text.center&&!e&&!d){this.back=d=a("<span>").addClass("progressbar-back-text"),this.front=e=a("<span>").addClass("progressbar-front-text"),c.prepend(d),b.prepend(e);var n;j?(n=c.css("height"),d.css("height",n),d.css("line-height",n),e.css("height",n),e.css("line-height",n),a(window).resize(function(){n=c.css("height"),d.css("height",n),d.css("line-height",n),e.css("height",n),e.css("line-height",n)})):(n=c.css("width"),e.css("width",n),a(window).resize(function(){n=c.css("width"),e.css("width",n)}))}setTimeout(function(){var m,n,o,r,s;j?b.css("height",g+"%"):b.css("width",g+"%");var t=setInterval(function(){j?(o=b.height(),r=c.height()):(o=b.width(),r=c.width()),m=Math.round(100*o/r),n=Math.round(o/r*i),m>=g&&(m=g,n=h,l(),clearInterval(t)),f.display_text!==a.fn.progressbar.display_text.none&&(s=f.use_percentage?m+"%":n+" / "+i,f.display_text===a.fn.progressbar.display_text.filled?b.text(s):f.display_text===a.fn.progressbar.display_text.center&&(d.text(s),e.text(s))),k(m)},f.refresh_speed)},f.transition_delay)}}},a.fn.progressbar=function(c){return this.each(function(){var e=a(this),f=e.data("progressbar"),g="object"==typeof c&&c;f||e.data("progressbar",f=new b(this,g)),"string"==typeof c&&f[c](),f.transition()})},a.fn.progressbar.display_text={none:0,filled:1,center:2},a.fn.progressbar.defaults={transition_delay:300,refresh_speed:50,display_text:a.fn.progressbar.display_text.none,use_percentage:!0,update:a.noop,done:a.noop,fail:a.noop},a.fn.progressbar.Constructor=b})(window.jQuery);