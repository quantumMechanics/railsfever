/*
 * Lemmon Slider - jQuery Plugin
 * Simple and lightweight slider/carousel supporting variable elements/images widths.
 *
 * Examples and documentation at: http://jquery.lemmonjuice.com/plugins/slider-variable-widths.php
 *
 * Copyright (c) 2011 Jakub Pel√°k <jpelak@gmail.com>
 *
 * Version: 0.2 (9/6/2011)
 * Requires: jQuery v1.4+
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(a){function d(a,b,c,d,f){b.items.filter("li:eq("+d+")").addClass("active").siblings(".active").removeClass("active"),typeof f=="undefined"&&(f="fast");if(f)b.animate({scrollLeft:c},f,function(){e(b)});else{var g=0;b.scrollLeft(c),e(b)}}function e(a){var b=a.items.filter(".active");if(b.hasClass("-before")){var c=b.prevAll().size();b.removeClass("active"),b=a.items.filter(":not(.-before):eq("+c+")").addClass("active"),a.scrollLeft(a.scrollLeft()+b.position().left)}else if(b.hasClass("-after")){var c=b.prevAll(".-after").size();b.removeClass("active"),b=a.items.filter(":not(.-before):eq("+c+")").addClass("active"),a.scrollLeft(a.scrollLeft()+b.position().left)}}function f(b){a("#debug span").text(b)}var b={},c={init:function(b){var b=a.extend({},a.fn.lemmonSlider.defaults,b);return this.each(function(){var c=a(this),e=c.data("slider");if(!e){var f=c.find(b.slider),g=c.next().filter(".controls"),h=f.find(b.items),i=1;h.each(function(){i+=a(this).outerWidth(!0)}),f.width(i),b.slideToLast&&f.css("padding-right",c.width()),b.infinite&&(i*=3,f.width(i),h.clone().addClass("-after").insertAfter(h.filter(":last")),h.filter(":first").before(h.clone().addClass("-before")),h=f.find(b.items)),c.items=h,c.options=b,c.bind("nextSlide",function(e,g){var i=c.scrollLeft(),j=0,k=0;h.each(function(b){j==0&&a(this).position().left>1&&(j=a(this).position().left,k=b)}),j>0&&f.outerWidth()-i-c.width()>0?d(e,c,i+j,k,"fast"):b.loop&&d(e,c,0,0,"slow")}),c.bind("prevSlide",function(e,g){var i=c.scrollLeft(),j=0,k=0;h.each(function(b){a(this).position().left<0&&(j=a(this).position().left,k=b)});if(j)d(e,c,i+j,k,"fast");else if(b.loop){var l=f.outerWidth()-c.width(),m=h.filter(":last").position().left;k=h.size()-1,l>m?d(e,c,m,k,"fast"):d(e,c,l,k,"fast")}}),c.bind("nextPage",function(e,f){var g=c.scrollLeft(),j=c.width(),k=0,l=0;h.each(function(b){a(this).position().left<j&&(k=a(this).position().left,l=b)}),k>0&&g+j<i?d(e,c,g+k,l,"slow"):b.loop&&d(e,c,0,0,"slow")}),c.bind("prevPage",function(e,g){var i=c.scrollLeft(),j=c.width(),k=0;h.each(function(b){a(this).position().left<1-j&&(k=a(this).next().position().left,slide=b)});if(i)k==0?d(e,c,0,0,"slow"):d(e,c,i+k,slide,"slow");else if(b.loop){var l=f.outerWidth()-c.width(),m=h.filter(":last").position().left;l>m?c.animate({scrollLeft:m},"slow"):c.animate({scrollLeft:l},"slow")}}),c.bind("slideTo",function(a,b,e){d(a,c,c.scrollLeft()+h.filter(":eq("+b+")").position().left,b,e)}),g.find(".next-slide").click(function(){return c.trigger("nextSlide"),!1}),g.find(".prev-slide").click(function(){return c.trigger("prevSlide"),!1}),g.find(".next-page").click(function(){return c.trigger("nextPage"),!1}),g.find(".prev-page").click(function(){return c.trigger("prevPage"),!1}),c.data("slider",{target:c,options:b})}})},destroy:function(){return this.each(function(){var b=a(this),c=b.next().filter(".controls"),d=b.data("slider");b.unbind("nextSlide"),b.unbind("prevSlide"),b.unbind("nextPage"),b.unbind("prevPage"),b.unbind("slideTo"),c.find(".next-slide").unbind("click"),c.find(".prev-slide").unbind("click"),c.find(".next-page").unbind("click"),c.find(".next-page").unbind("click"),b.removeData("slider")})}};a.fn.lemmonSlider=function(b){if(c[b])return c[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return c.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.lemmonSlider")},a.fn.lemmonSlider.defaults={items:"> *",loop:!0,slideToLast:!1,slider:"> *:first",infinite:!1}})($),window.onload=function(){$("#lemmon-slider").lemmonSlider({infinite:!0,loop:!1})},$(window).load(function(){$(".lemmon-slider ul li").hover(function(){$(".lemmon-slider ul li").not($(this)).stop().animate({opacity:.6},200)},function(){$(".lemmon-slider ul li").stop().animate({opacity:1})},200)});